# Taiyi: A Peer-to-Peer Network for Decentralized Autonomous Worlds

## Abstract

This paper proposes and formalizes the "Taiyi Network," a high-performance peer-to-peer network protocol implemented in C++ designed to host persistent, Decentralized Autonomous Worlds (DAW). The Taiyi Network aims to provide a robust and efficient infrastructure for complex, participant-driven virtual ecosystems, such as "DaNuo World," an MUD game that serves as its first experimental application.

This paper will articulate its core technical contributions, which collectively serve the philosophical vision of "Cultivating Truth into Reality." Core technologies include:

- **Siming Tiandao Consensus**: A variant of Delegated Proof of Stake (DPOS) optimized specifically for low-latency MUD interactions, designed to support high-frequency, low-latency state updates.
- **Law of Conservation of Qi (Yuanqi)**: A self-consistent economic engine implemented at the protocol layer. This model introduces the "Feigang" mechanism, which converts network resource consumption (represented as "Qi" or QI gas) 1:1 into direct, non-transferable rewards for creators of effective application logic (Smart Game Scripts, SGS). This design constructs a novel "Proof-of-Utility" incentive paradigm, fundamentally addressing the incentive misalignment and economic unsustainability issues faced by first-generation decentralized games (GameFi 1.0).
- **Programmable Non-Fungible Assets (Programmable NFA)**: Serving as the atomic units that constitute these autonomous worlds (including characters, items, and even regions). NFAs deeply bind their logic (SGS) with their state on-chain, making them dynamic agents capable of autonomous behavior.

Based on these technical primitives, this paper will focus on introducing and arguing for the concept of the "Story Universe." This system is defined as an emergent narrative system driven jointly by autonomous agents (including human users and Artificial Intelligence agents as first-class citizens), programmable physical laws (SGS), and self-consistent economic laws (Law of Conservation of Qi).

This paper aims to provide a complete technical and economic blueprint for building a new generation of digital worlds with intrinsic economic closed loops, sustainable incentive mechanisms, and persistent "Physical Reality."

## 1. Introduction

### 1.1. Limitations of Centralized Virtual Worlds

Traditional online games and virtual worlds are essentially centralized in their architecture. All game data, asset records, and logic execution rely on server clusters controlled by a single entity. This model presents inherent limitations:

First, player assets lack true ownership. The items, characters, and currency players acquire by investing time and resources are essentially just entries in a centralized database, with ownership and final interpretation rights belonging to the operator. Once servers are shut down or terms of service change, players' digital property may be lost permanently, lacking a guarantee of persistence.

Second, world rules are opaque and subject to unilateral tampering. The core economic parameters, physical laws, and interaction logic of the game are secretly formulated by developers and can be adjusted at any time, leaving players in a position of information and power asymmetry.

Finally, the value system is closed. The value generated by in-game economic activities is difficult to circulate or gain recognition outside the game ecosystem, limiting its economic potential. This model alienates player behavior into a form of labor within a closed system, known as "playbour," where value is captures unilaterally by the platform.

### 1.2. Challenges of First-Generation Decentralized Games (GameFi 1.0)

As a response to the centralized model, first-generation blockchain-based games (GameFi 1.0) emerged, with the core philosophy of "Play-to-Earn." By introducing Non-Fungible Tokens (NFT) and Fungible Tokens (FT), these games achieved verifiable player ownership of game assets for the first time. However, this early paradigm quickly exposed deep-seated structural problems.

At the technical level, most projects are built on general-purpose computing platforms such as the Ethereum Virtual Machine (EVM). Designed for general-purpose decentralized applications, the EVM's architecture (e.g., 256-bit word length, stack-based operations) presents significant performance bottlenecks and high transaction costs (Gas fees) for complex games requiring high-frequency, low-latency state updates. This severely damages the core game experience, making complex gameplay difficult to implement on-chain.

At the economic level, their models are often unsustainable. To attract users, projects commonly employ high-inflation token releases to reward player gameplay. However, these models lack effective value consumption scenarios to absorb newly issued tokens. Consequently, participant motivation shifts from game enjoyment to speculative arbitrage. The failure of this model lies in it being merely "Play-to-Earn," where the act of "playing" itself becomes labor for extracting value, leading to hyperinflation. Once the influx of new users slows, the system falls into a "death spiral" of hyperinflation due to continuous token selling pressure, resulting in the collapse of asset value and mass exodus of players. These failure cases demonstrate that simply putting assets on-chain, without building an internally consistent economic entity with a closed value loop, cannot support a persistent virtual world. The Taiyi Network's "Proof-of-Utility" economic model (see Chapter 5) is a direct response to this specific failure.

### 1.3. New Paradigm: Cultivating Truth into Reality

The Taiyi Network aims to propose a brand-new solution, its core philosophy summarized as "Cultivating Truth into Reality." This concept is also a modern reconstruction and deep evolution of the "Metaverse" vision depicted by Neal Stephenson in his novel *Snow Crash*.

In *Snow Crash*, the construction of the digital landscape shared by all humanity—"The Street"—is forcibly established by the "Global Multimedia Protocol Group" (GMPG) through the development of unified protocols (such as constraints on avatar height, gravity sensing, collision logic, etc.). While this model creates a persistent visual landscape, it remains essentially a "Shared Hallucination" dominated by a group of top-tier developers, relying on centralized interpretive power and protocol consistency.

The core assertion of the Taiyi Network is that a virtual world composed purely of information can acquire a "Physical Reality" equivalent to the physical world through decentralized technical architecture, immutable consensus logic, and a self-consistent economic system, transcending "hallucination."

This "Physical Reality" does not refer to a crude imitation of physical appearances, but rather means that the world possesses the following four core attributes, placing it on par with the physical world in terms of logical weight:

- **Immutable History**: All events and state changes are permanently recorded on a traceable, undeniable causal chain (i.e., the blockchain).
- **Transparent and Enforced Laws**: The operating rules of the world are public in the form of code (C++ consensus and SGS contracts) and are enforced by a decentralized network, independent of the subjective will of any single entity. This corresponds to the GMPG's protocols in *Snow Crash*, but evolved from "human conventions" into "mathematical laws."
- **Verifiable Ownership**: Ownership of assets (NFAs and FTs) in the world is clear, exclusive, and freely disposable.
- **Self-Consistent Internal Economy**: The world's value system is capable of self-maintenance and self-regulation, effectively incentivizing creative activities beneficial to the ecosystem.

To realize this vision, there is a fundamental conflict with general-purpose blockchain platforms and the paradigm of "Universal Composability" they advocate. A "real" world pursuing internal logical consistency cannot tolerate external, unpredictable protocols arbitrarily interfering with its core state (e.g., an external DeFi protocol arbitrarily locking or destroying core NFA resources of the game world). Just as "The Street" in *Snow Crash* has its own coordinate system and physical laws, the Taiyi Network also requires this "logical sovereignty." Therefore, building a customized blockchain specifically designed to host this vision, which is relatively isolated in its architecture, is not merely a choice for technical optimization but a philosophical necessity.

### 1.4. Contributions of This Paper

This paper aims to provide a comprehensive, formalized technical and economic exposition of the Taiyi Network protocol. Core contributions include:

- **A High-Performance C++/Lua Architecture Optimized for DAW**: Formalizes the underlying state machine, DPOS consensus, and the theoretical basis for choosing a customized Lua virtual machine for the Taiyi Network.
- **A "Proof-of-Utility" Economic Engine Based on the "Conservation of Qi"**: Detail the economic models of YANG, QI, and Feigang, along with the mathematical principles of "Cultivation," demonstrating how it solves the incentive challenges of GameFi 1.0.
- **A Formal Definition of the "Story Universe" as an Emergent Narrative System**: This paper will systematically argue how various components of the Taiyi Network (autonomous agents, SGS physics, economic laws, regional sovereignty, autonomous organizations) interact to constitute a "Story Universe" or Complex Adaptive System (CAS).

## 2. Three-Realm Model: A Conceptual Framework

To systematically describe the structure and operating principles of the Taiyi Network, this paper introduces the "Three-Realm Model," originating from its world-building settings, as a formalized conceptual framework. This model deconstructs the entire system into three interacting but functionally distinct domains, clearly revealing the relationship between users, logic, and state.

The Taiyi cosmology was originally described in [*Internal Chapters of the Taiyi Universe*](./yuzhou.md), with a modern vernacular interpretation in [*The Multi-dimensional Structure of the Taiyi Universe—Five Departments and Eighteen Realms*](./yuzhou_explain.md), which elucidates the First Law of Taiyi—the Law of Taiyi Causality.

### 2.1. Formalized Ontology of the System

The ontology of the Taiyi Network can be defined through the following three domains:

- **The Primordial Spirit Realm (元神界)**: This domain is defined as the set of all **Accounts** in the network. Each account represents a conscious subject capable of interacting with the network, whether a human user or an Artificial Intelligence agent (AI Agent). The Primordial Spirit Realm is the source for initiating state transitions and exercising asset ownership, corresponding to the system's user and authentication layer.
- **The Dao Realm (道界)**: This domain is defined as the set of all **Logic Rules** in the network. It comprises two levels: first, the underlying C++ protocol hard-coded into node clients that forms the basis of network consensus, which are the immutable "physical laws" of the universe; second, the dynamic rules expressed through Smart Game Scripts (SGS) that can be created and evolved by users, which are the "supernatural powers" and "laws" of the universe.
- **The Chaos Realm (混沌界)**: This domain is defined as the **Global State** of the network at any given moment, encompassing the sum of all assets. This includes fungible assets (FT) represented by "Qi/True Qi" (QI) and "Lifespan" (YANG), as well as Programmable Non-Fungible Assets (NFA) that constitute all things in the world. The Chaos Realm is the object upon which the laws of the Dao Realm act and the stage upon which the subjects of the Primordial Spirit Realm interact, corresponding to the system's state and asset layer.

### 2.2. Structural Isomorphism: Mapping from Cosmology to System Architecture

The essence of the Taiyi Network's design lies not in simply using a fantasy story as a surface-level skin, but in achieving a Structural Isomorphism from core cosmological concepts to system technical components. This deep mapping is a deliberate design pattern intended to enhance the system's Comprehensibility and the Cohesion of its internal logic. By mapping complex technical concepts (e.g., "validator nodes," "Gas," "smart contracts") to intuitive cosmological concepts (e.g., "Siming," "True Qi," "Tiandao"), the architecture lowers the cognitive threshold for developers and users and reinforces the world's internal logic.

The following table (Table 1) illustrates this key mapping relationship, which integrates all core documents of the project and serves as the "Rosetta Stone" for understanding the Taiyi Network protocol.

**Table 1: Isomorphic Mapping from Cosmology to Architecture**

| **Cosmological Concept (Adapted from the novel *Dao Gui Yi Xian*)** | **Taiyi Network Component (Technical Implementation)** | **Function/Role** |
| ---------------------------------------------- | ---------------------------------- | ------------------------------------------------------ |
| Siming (司命) | DPOS Witness Node (siming_plugin) | Validates transactions, produces blocks (target ~3 seconds/"Breath"), maintains network consensus. |
| Causal Tiandao (因果天道) | Blockchain (Hash-linked block structure) | An immutable, ordered ledger recording all state transitions. |
| Tiandao (天道) | Smart Game Script (SGS) / Consensus Rules | Enforceable Lua or C++ logic defining world laws and asset behavior. |
| Yuanshen/Spirit (元神/神魂) | Account (account_object) | The identity layer for users (humans or AI) to own assets and initiate transactions. |
| Yangshuo/Lifespan (阳寿, YANG) | Base Currency (FT) | Main unit of account, store of value, and staking asset, featuring an inflationary model. |
| Zhenqi/True Qi (气/真气, QI) | Network Fuel (FT / Gas) | Resource consumed for executing computations (calling SGS) on the network. |
| Feigang (非罡) | Account-bound Incentive Certificate (Non-token) | Converted from consumed QI, non-transferable, used to reward SGS creators. |
| Dharma Treasure/All Things (法宝/万物) | Programmable NFA (nfa_object) | Atomic, stateful assets in the world carrying SGS logic. |
| Cultivation (修真) | Probabilistic Mining | Underlying algorithm in which user NFAs participate to obtain QI from a global reward pool. |
| Xi/Breath (息) | Block Time | The target block production time of the network, approximately 3 seconds. |
| ZuoWangDao (坐忘道) | Decentralized Autonomous Organization (DAO) | An autonomous organization jointly maintained by account users holding special certificates (NFAs), used for managing network rules and governance. |
| XinSu (心素) | Identity Certificate (SBT NFA) | An immutable certificate proving a user's ZuoWangDao identity. Accounts with this identity are ZuoWangDao members who can participate in rule creation, maintenance, and world governance. This is similar to "Wizards" in traditional MUD games. |

The importance of this correspondence table lies in elevating the project's narrative from a mere "theme" to a core design principle. It clearly demonstrates to a technical audience that seemingly esoteric terms have precise functional counterparts, making the entire system more intuitive and internally consistent. This "translation" from the philosophical to the technical layer is the foundation for the credibility of the project's deep integration claims and is a fundamental feature distinguishing it from other blockchain games.

## 3. Network Architecture and Consensus

The Taiyi Network is designed as a high-performance, deterministic state machine, with an underlying architecture optimized to support large-scale, high-concurrency autonomous worlds. This section will delve into its core C++ architecture, consensus mechanism, and transaction processing flow.

### 3.1. Core Architecture: A C++ State Machine

In the structure of the taiyi core codebase, the system can be seen as a deterministic state machine based on an account model. Its core logic is primarily located in the libraries/chain directory.

The center of the system is a database class, which is responsible for managing the global state of the blockchain. All on-chain objects, such as account_object (accounts) and nfa_object (NFA assets), are instantiated and their state maintained through this database. The database class encapsulates access to the underlying data storage and provides critical methods for transaction application, management of undo states, and interaction with on-chain objects, ensuring the atomicity and consistency of state transitions.

The choice of C++ as the core implementation language is based on its exceptional performance, fine-grained memory control, and ability to perform deep optimizations for game logic. The overall architecture draws on the design philosophies of mature C++ blockchain frameworks such as Steem, but replaces their core social logic with specific logic required for MUD games and autonomous worlds. This provides a level of performance and customization that general-purpose platforms like the EVM cannot offer.

### 3.2. Siming Tiandao Consensus (DPOS)

To achieve the high throughput and low latency required for game applications while maintaining a certain degree of decentralization, the Taiyi Network employs Delegated Proof of Stake (DPOS) as its consensus mechanism, named "Siming Tiandao Consensus."

The core of this mechanism is the election of a fixed number (planned maximum of 21) of block producers, known as "Siming" (司命). Any account holding network equity (represented through QI or YANG) can vote ("Worship") to elect nodes they trust to become "Siming." Elected "Siming" produce blocks according to a deterministic, periodically rotating schedule. This design greatly reduces the network communication overhead required to reach consensus, thereby enabling very short block intervals.

The target block time for the Taiyi Network is set to approximately 3 seconds, referred to as "One Breath" (一息) in the cosmology. This design decision is crucial for games like MUDs that require frequent interaction. High-frequency, low-risk operations in MUD games, such as moving, looking, and talking, cannot tolerate block confirmation delays of tens of seconds or even minutes. A 3-second "One Breath" confirmation time ensures that most player operations can be confirmed on-chain and their state updated within a short period, providing a smooth, real-time gaming experience.

The core component responsible for implementing this logic is the siming_plugin, which manages the block production scheduling loop, transaction validation, and block signing, serving as the direct manifestation of the "Siming" concept at the code level.

### 3.3. Transaction Lifecycle: Operations and Evaluators

Every state transition in the Taiyi Network is triggered by a Transaction. A transaction contains one or more Operations. Every atomic behavior in the system, such as transfers, NFA creation, SGS calls, etc., is defined as a specific operation type.

The definitions of operations are located in the libraries/protocol/include/taiyi/protocol/operations.hpp file. For every operation, there is a corresponding Evaluator class to process its logic. The role of the evaluator is to verify whether all prerequisites for the operation are met (e.g., whether the initiating account has sufficient balance, appropriate permissions, etc.) and, upon successful verification, apply the operation to the database state, i.e., modifying the relevant on-chain objects.

This "Operation-Evaluator" design pattern separates the definition of behavior from the execution of behavior, making the system logic clear and easy to extend and maintain. Evaluator implementation templates are defined in libraries/chain/include/taiyi/chain/evaluator.hpp, ensuring that all state transitions follow strict, deterministic rules.

## 4. Tiandao: Smart Game Script (SGS) and Lua Virtual Machine

If the C++ architecture is the skeleton of the Taiyi Network, then the Smart Game Script (SGS) and its operating environment—the Lua Virtual Machine—are the keys that give this world its rules and soul. In the Taiyi Network, smart contracts are personified as "Tiandao," which are codes written in the Lua language and executed within the node's built-in virtual machine, responsible for defining and driving all dynamic logic of the game world.

### 4.1. Theoretical Basis for a Customized Virtual Machine

The Taiyi Network's choice to integrate the Lua virtual machine, rather than using general-purpose solutions such as EVM or WASM, is based on a profound design philosophy that goes beyond mere performance considerations. While general-purpose VMs are powerful, their design goal is universality, which can instead become a constraint for building an autonomous world with a strong cosmology and highly self-consistent internal logic.

The core reasons for choosing Lua are:

- **Lowering the Barrier to Creation**: The Lua language is concise, easy to learn, and has a decades-long history of application and a massive developer base in the game development field. This significantly lowers the learning curve for content creators (including game designers and even advanced players), which is a technical prerequisite for realizing the "Building is Playing" philosophy.
- **Improving Execution Efficiency**: The Lua virtual machine is renowned for its lightweight nature, efficiency, and seamless integration with C++. This allows the Taiyi Network to construct a highly optimized execution environment where core game rules (e.g., movement, basic interactions) are built directly into the C++ consensus layer as underlying operation functions (SGS APIs) for higher-level SGS to call, thereby achieving execution efficiency far exceeding that of general-purpose VMs.
- **Ensuring Cosmological Cohesion**: As previously discussed, the Taiyi Network holds a cautious philosophical attitude toward "universal composability." By providing a virtual machine with limited interfaces specifically designed for game logic, the Taiyi Network can ensure that all on-chain logic serves its core cosmology, avoiding the logical chaos and stylistic conflicts that universal composability might bring, thereby protecting the immersion and "Physical Reality" of the virtual world.

The following table (Table 2) compares the key differences between the Taiyi Network's customized architecture and general-purpose architectures based on EVM for game applications.

**Table 2: Comparison between Taiyi Network and EVM Game Architectures**

| **Feature** | **Taiyi Network (C++/Lua)** | **EVM-based Architecture (Solidity)** |
| ---------------------- | ------------------------------- | -------------------------------------- |
| **Virtual Machine Focus** | Specialized operations for game logic and state | General-purpose computation |
| **Primary Language** | Lua (Native to game scripting) | Solidity (Native to finance and logic) |
| **Performance Model** | Optimized for low-latency, high-frequency state updates | Optimized for security and general-purpose computation, often becoming a game bottleneck |
| **Gas/Fee Model** | QI consumption directly rewards utility creators (Feigang) | Fees primarily reward validators/miners |
| **Composability** | DAO, community curation, and regional autonomy (Ensuring world integrity, see subsequent chapters) | Universal and permissionless (Promoting ecosystem integration) |
| **State Management** | Native C++ objects for core game entities | General-purpose key-value storage, less efficient for complex game objects |

### 4.2. The Taiyi Lua Virtual Machine

The Taiyi Network node integrates a specially configured Lua virtual machine as a sandbox execution environment for all SGS. This virtual machine is tightly coupled with the C++ base layer and possesses the following key features:

- **Resource Metering**: The virtual machine is capable of precise metering of every instruction and every memory allocation during SGS execution. This fine-grained resource tracking is the basis for accurately calculating QI (Gas) consumption, ensuring fair use of network resources and resistance to DoS attacks.
- **Security Sandbox**: SGS runs in a restricted environment, unable to access the node's file system, network, or other external resources, ensuring that user-submitted code will not pose a threat to the node itself.
- **State Interface**: The virtual machine provides a set of efficient APIs allowing SGS to safely read and modify the Taiyi Network's blockchain state (i.e., calling the C++ database class), such as querying account balances and reading/writing NFA attributes.

### 4.3. SGS Execution Model

The lifecycle of an SGS follows a clear model, with all examples available in the [taiyi-contracts](https://github.com/hongzhongx/taiyi-contracts) codebase.

- **Deployment**: Any XinSu account can submit Lua code as transaction data to the network. The network validates and stores the code, assigning it a unique contract name.
- **Binding**: Deployed SGS can be bound to an NFA as the NFA's behavioral logic. An NFA can be bound to multiple SGS to define its complex behavior.
- **Execution**: When a user calls a function of an NFA via a transaction, the Taiyi Network node loads the SGS code bound to that NFA in its Lua virtual machine and executes the corresponding function. The execution process consumes the caller's QI and rewards the generated "Feigang" to the creator of the SGS.

## 5. Law of Conservation of Qi: A Self-Consistent Economic Engine

The economic model of the Taiyi Network is built around a core principle—the "Law of Conservation of Qi" (元炁守恒定律). This is not a strict physical law, but a set of economic protocols designed to build a self-consistent, sustainable environment that effectively incentivizes value creation. The core of this model is the conversion of network computing resource (Gas) consumption into direct rewards for creators of high-quality application logic (SGS).

In the cosmology of the Taiyi Universe, the "Law of Conservation of Qi" is also called the "Law of Conservation of True Qi" and is referred to as the Second Law of Taiyi. See [*On the Conservation of Primordial True Qi*](./zhenqishouheng.md) for details.

### 5.1. Formal Definition: YANG, QI, and Feigang

The "Law of Conservation of Qi" can be formally described by the following axioms:

- **QI is the fundamental energy of the system**: All meaningful state transitions require the consumption of QI.
- **QI consumption is a transfer of value, not an annihilation**: Consumed QI is transferred in the form of "Feigang," in an equal amount, to the creator of the SGS invoked in that consumption behavior (a small portion of the True Qi dissipation is converted into the treasury account of the ZuoWangDao DAO).
- **QI generation originates from systemic inflation and participant input**: New QI enters circulation through a probabilistic mining process called "Cultivation," the reward pool for which is funded by the inflation of the base token, YANG.
- **The material world is converted from QI**: Basic resources (FT) in the game world cannot be created out of thin air; they must be generated through the consumption of QI, establishing a fundamental value support for QI.

The Taiyi economy consists of three core assets:

- **YANG**: The base currency and equity asset. YANG employs an inflationary model, with an annualized inflation rate starting at 10% and linearly decreasing to 1% over 20 years. Of the newly issued YANG, 90% is used to fund the ecosystem (primarily as the source for the global "Cultivation Reward Pool"), and 10% is used to reward "Siming" nodes.
- **QI**: The network fuel (Gas) and core energy. The execution of all SGS must consume QI.
- **Feigang (非罡)**: It must be clearly clarified: **Feigang is not a tradable token**. It is an **account-bound, non-transferable** incentive certificate, with its value measured in QI. The **exclusive source** of Feigang is the QI consumed by SGS execution, and its **exclusive use** is that the holder can convert it 1:1 back into usable QI in their own account at any time.

This design solves the incentive challenges faced by many content platforms and GameFi projects at the protocol level. It no longer relies on subjective voting or speculation-driven mining, but establishes an objective value discovery mechanism based on "Proof-of-Utility." The value of an SGS is directly measured by how much QI market participants (especially game players) are willing to consume for it. This design, which converts network operating costs (Gas fees) into the core value-creation engine of the ecosystem, is the most profound innovation of the Taiyi economic model.

### 5.2. Generation of QI: Mathematical Principles of Cultivation

The primary source of QI is the in-game "Cultivation" behavior, with rewards originating from the global cultivation reward pool funded by YANG inflation. The underlying mechanism for cultivation is a "Probabilistic Mining" algorithm. The detailed algorithm design refers not only to [*On the Conservation of Primordial True Qi*](./zhenqishouheng.md) but also to the spiritual energy design for cultivation regions in [*Digital Geography*](./zone_dynamics.md).

According to the protocol definition, when one or more NFAs participate in a cultivation activity and it concludes after a duration $t$, the QI reward $R$ obtained is determined by the following formula:

$$R = \lambda \left( \sum_{n=1}^{N} k_n \right) \times P \times \frac{t}{T}$$

Where:

- $R$ is the final quantity of QI reward obtained.
- $\lambda$ is the cultivation efficiency coefficient, determined by the "Cultivation Method" (a series of SGS) used and the situation of the region, representing the efficiency differences between various cultivation methods.
- $N$ is the number of NFAs (e.g., characters, dharma treasures) participating in this cultivation.
- $k_n$ is the amount of "True Qi" locked by the $n$-th participating NFA. This represents the capital invested by the participant in the cultivation activity.
- $P$ is a deterministic probability sample value in the range $[0, 1.0]$, calculated at the end of the cultivation, introducing randomness into the process.
- $t$ is the effective duration of this cultivation.
- $T$ is a system-defined maximum cultivation time window (e.g., 24 hours), used to normalize the weight of time input.

The formula clearly indicates that QI output is related to the participant's invested capital (True Qi), time (cultivation time), and chosen strategy (method/region/treasure). The QI obtained from cultivation is not generated out of thin air but originates from the global cultivation reward pool funded by YANG inflation.

### 5.3. QI Consumption and the Feigang Incentive Mechanism

This is the core of the economic model. When any account executes an SGS and consumes an amount $C_{QI}$ of QI, the protocol automatically performs the following two atomic operations:

- $C_{QI}$ of QI is deducted from the executor's account.
- An equal amount of "Feigang" is added to the SGS creator's account (currently, a small portion of "Feigang" is transferred to the treasury account of the ZuoWangDao DAO).

"Feigang" is a special form of QI. It has a numerical value but is not a tradable token. It cannot be transferred between accounts, and its sole function is that the holder can convert it 1:1 back into usable QI in their own account at any time. This mechanism ensures precisely targeted rewards and avoids introducing another speculative token.

This is also the most profound innovation of the Taiyi economic model, constructing a novel "Proof-of-Utility" paradigm. This mechanism reroutes network operating costs (Gas fees), transforming them from mere consumption (or rewarding only validators) into direct incentives for the ecosystem's core value creators.

This solves the incentive misalignment issue of GameFi 1.0 and the incentive quantification challenge of Web3 content platforms. The value of an SGS is no longer determined by subjective voting but is objectively measured by how much QI market participants (especially players in the game) are willing to consume for it.

The formalized process of this mechanism is as follows:

- Account **A** initiates a transaction, calling SGS **S** on NFA **X**.
- The Taiyi Lua virtual machine precisely calculates the execution consumption of SGS **S** as $C_{QI}$ QI.
- The protocol deducts $C_{QI}$ QI from account **A**'s balance.
- The protocol adds the value of $C_{QI}$ to the "Feigang" balance of the creator of SGS **S** (Account **B**) (currently, a small portion of "Feigang" is transferred to the "ZuoWangDao" treasury account to fund ecosystem development).

### 5.4. Complete Economic Cycle and Value Anchoring

The entire economic system forms an ingenious closed loop:

- **Macro Injection**: 90% of the annual inflation of YANG is used to fund the ecosystem, constituting the source of the global cultivation reward pool.
- **Energy Generation**: Players obtain QI from the reward pool through "Cultivation" behavior (investing capital, time, and strategy).
- **Value Discovery and Consumption**: Players consume QI to run high-quality SGS to obtain game experiences or functions.
- **Creator Incentives**: Consumed QI is converted into Feigang, directly rewarding the creators of the SGS.
- **Value Recirculation**: SGS creators convert Feigang back into QI, which can be used to pay for their own consumption or realize value through the exchange mechanism with YANG.
- **Value Anchoring**: The value of QI does not rely entirely on speculation. It has a fundamental, intrinsic consumption scenario and value basis: QI is the **only** way to convert into base material resources (Gold, Food, Wood, Fabric, Medicine) through specific mechanisms (such as the "Refining Heaven Pagoda" NFA). These base materials are necessary for building and maintaining the game world, thereby providing an ultimate value anchor for QI.

This cycle closely links the network's macroeconomic policies (inflation), micro-user behavior (adventure, cultivation, consumption), and content creation (SGS development, construction, story-building), aiming to build a digital economic entity that can self-regulate, self-incentivize, and develop sustainably.

## 6. Programmable Non-Fungible Assets (NFA): Atomic Units of the Autonomous World

The core world-building blocks of the Taiyi Network are Programmable Non-Fungible Assets (NFA). This concept is a major extension of the standard NFT, deeply integrating asset ownership certificates with their intrinsic behavioral logic, such that every on-chain entity becomes a potential autonomous agent.

The cosmology of the Taiyi Universe discusses the creation and evolution of entities in detail. [*An Introduction to the Evolution of the Taiyi Universe I*](./yanhua_explain.md) elucidates the evolution among various beings in the Taiyi Universe, while [*An Introduction to the Evolution of the Taiyi Universe II*](./kejixiuzhen_explain.md) clarifies the evolution of the cultivation system in the Taiyi Universe.

### 6.1. From NFT to NFA: Binding On-chain State and Logic

Standard NFTs (such as ERC-721) primarily solve the problem of uniqueness and ownership verification for digital assets, but are typically static, with their attributes and functions relying on the interpretation and execution of external centralized servers. In contrast, NFAs in the Taiyi Network possess the following core features:

- **On-chain Binding of State and Logic**: An NFA not only records its owner and metadata but, more importantly, directly binds one or more SGS on-chain. These SGS define all attributes, states, and executable behavioral functions of the NFA.
- **Autonomous Behavioral Capability**: Since SGS can contain logic that executes periodically (e.g., the `heart_beat` function in [liantianta.lua](https://github.com/hongzhongx/taiyi-contracts/blob/main/nfas/liantianta.lua)), NFAs can achieve autonomous behavior without external triggers.

This design philosophically echoes the discussion of **"Narrative Precision"** in *Snow Crash*. In the novel, the protagonist Hiro Protagonist possesses a highly customized avatar with high precision that he personally hand-coded (Hacked); while the general public can only use cheap, low-precision, cookie-cutter avatars purchased at public terminals—some poor people can even only afford extremely blurry "black-and-white avatars."

NFAs in the Taiyi Network are intended to break the consumerist logic of only being able to "purchase" static NFTs found in GameFi 1.0. By deeply binding logic (SGS) and state, NFAs empower participants with the ability to "program and build themselves." A character or object driven by advanced SGS will have significantly higher "narrative precision" and "functional precision" than ordinary assets lacking endogenous logic. This means that developers and hardcore players, like Hiro, can personally craft first-class citizen assets with higher logical weight and narrative depth in the autonomous world through the "cultivation" and "refinement" of code.

### 6.2. "Spirit Access" Protocol

This is the most revolutionary feature in the Taiyi Network's NFA design, known in the cosmology as "Spirit Access" or "Possession" (夺舍). This protocol is not limited to character NFAs but applies to all NFAs. The protocol stipulates that since all NFAs follow a unified underlying interface standard, any account ("Primordial Spirit") can "access" any NFA it owns and operate from that NFA's perspective.

The significance of this design goes far beyond traditional role-playing. It fundamentally dissolves the "player-character" (subject-object) binary opposition. An Account is formally defined as a pure, discarnate consciousness or Agency. Meanwhile, an NFA is a Vessel that the consciousness can inhabit, whether that vessel is a character, a sword, a tree, or a region.

When a player accesses a sword NFA, they can execute exclusive skills such as "Parry" or "Release Sword Qi" defined by the sword's SGS. This mechanism allows participants to explore "What is the experience of being a tree?", creating unprecedented possibilities for digital "presence" and narrative experience.

### 6.3. Open Access and AI Agents

The Taiyi Network is designed without any entry barriers for access. This means that Artificial Intelligence (AI) agents can become first-class citizens in the network just like human players. An AI can freely create accounts, control private keys through algorithms, and subsequently own and operate NFAs.

The combination of AI agents and programmable NFAs creates a system of "dual autonomy":

- **Autonomy defined by SGS**: NFAs have pre-programmed autonomous logic defined by SGS (such as `heart_beat`).
- **Autonomy defined by AI**: An NFA can be "accessed" and controlled by an AI agent with autonomous decision-making capabilities.

Combined with the "Spirit Access" protocol, the roles of AI agents can become extremely diverse and complex:

- They can play an ordinary character NFA, teaming up, trading, and competing with other players.
- They can operate a production-type NFA (such as "Refining Heaven Pagoda"), autonomously deciding production strategies based on market prices.
- They can even control a regional NFA, playing the role of a city lord responsible for city planning, taxation, and management.

This combination will foster extremely high Emergent Complexity. For example, an AI agent could own and "access" a Zone NFA, playing a rational, autonomous "City Lord." The AI City Lord could dynamically adjust SGS permissions within its region based on market conditions (see Chapter 7) or adjust tax rates to achieve its programmed goals (e.g., maximizing QI revenue for its region), thereby creating a dynamically evolving socio-economic environment far exceeding anything a human script could design.

This complete openness to AI aims to build a truly human-machine symbiotic, co-evolving virtual ecosystem. AI behavior will bring immense complexity and unpredictability to the world, making "DaNuo World" more like a real, self-organizing society rather than a stage with scripts pre-set by developers.

## 7. Dynamic Autonomy and Local Sovereignty: Permission Control Mechanism for Tiandao by Regions

### 7.1. The Paradox of Permission: Conflict between Permissionless Innovation and State Integrity

The Taiyi Network aims to build a vibrant ecosystem, the core of which relies on the **Permissionless** innovation of SGS to ensure the emergence of ecosystem vitality and creativity. Any XinSu account can freely create new "Tiandao" (SGS) to define new world rules and asset behaviors.

However, this complete openness brings a core governance paradox: a malicious or poorly designed SGS (e.g., an SGS designed for economic attacks or to undermine game narrative integrity) could have catastrophic effects on the system. If anyone can introduce chaotic "laws" at any time, how will the "Physical Reality" of this world be maintained?

The Taiyi Network incentivizes excellent SGS creators through the "Feigang" reward mechanism, which converts computing resource consumption (QI) directly into rewards for creators, forming a closed economic loop of "Proof-of-Utility." However, positive incentive mechanisms alone are insufficient to deal with deliberate sabotage. Malicious or erroneously designed SGS could have catastrophic effects on specific local zones. For example, a destructive SGS might exploit underlying protocol vulnerabilities or execute extremely resource-intensive operations to launch speculative attacks on a region and all associated NFAs running within its scope, leading to the destruction of game narrativity and fairness. Malicious actors might obtain meager rewards by creating SGS that purely consume QI (a problem even traditional MUD games find difficult to solve regarding "wizard" misconduct). Therefore, to maintain the "Physical Reality" of the Decentralized Autonomous World (DAW), hard penalty and prohibition mechanisms must be introduced.

### 7.2. Zone as an Autonomous Sovereign Boundary

The Taiyi Network's solution is to decentralize governance power to the local level, rather than relying on global centralized censorship (even though "ZuoWangDao" members can handle malicious XinSu through protocols, the game theory process could be very complex and lengthy). The system introduces "Zones" as entities for exercising Local Sovereignty.

A Zone itself is a Programmable Non-Fungible Asset (NFA), the owner of which is granted permission control over SGS execution within its territory by the protocol.

A Zone NFA plays the role of a local "City Lord" or "Lord." By granting region owners the ability to set execution permissions for SGS entering their boundaries, the Zone's SGS permission mechanism achieves **dynamic, local, and immediate** rule enforcement for the local environment without modifying the underlying C++ consensus protocol. This decentralization model enhances the system's anti-fragility. The global consensus (Siming nodes) at the base layer is responsible for maintaining fundamental security and state consistency, while the **content responsibility** for running SGS within a specific region is decentralized to the owner of the Zone NFA or accounts holding its active permissions. This layered governance model improves the system's response speed to local crises (such as economic attacks targeting a specific region or the game as a whole), ensuring the stability and order of the local environment.

In fact, many "City Lords" are not XinSu but merely ordinary players. To some extent, this regional SGS autonomy mechanism provides players with another layer of flexibility and creativity for content management.

### 7.3. Formalized Definition and Interfaces for Zone Permission

The Zone state object is extended to store an SGS permission list. Only accounts holding the Zone NFA's owner or active permissions can initiate governance operations.

Core governance interfaces include (refer to the continuously updated [SGS API documentation](./sgs_api.md) for interface documentation):

- `set_contract_permission`: Explicitly sets the permission status (PROHIBITED or ALLOWED) of an SGS in the Zone's permission mapping table.
- `remove_contract_permission`: Removes the explicit setting for an SGS, allowing it to revert to the default state.
- `set_ref_prohibited_contract_zone`: Sets a reference zone to inherit its prohibited/allowed list.

The following table (Table 3) summarizes the functions of these core interfaces.

**Table 3: Core Zone Permission Management Interfaces and Their Roles**

| **Interface Function (Lua API)** | **Functional Description** | **Required Permission** | **Zone State Impact** |
| ---------------------- | ------------ | ------------ | ----------------- |
| `set_contract_permission` | Sets the explicit permission or prohibition status of a specified SGS in this region. | Owner or Active | Creates/updates SGS permission records in the Zone state object. |
| `remove_contract_permission` | Removes the explicit permission setting for a specified SGS. | Owner or Active | Deletes SGS permission records from the Zone state object, reverting to default or reference rules. |
| `set_ref_prohibited_contract_zone` | References this region's prohibition list to another region's prohibition list. | Owner or Active | Updates the `ref_prohibited_zone_id` field in the Zone state object. |

### 7.4. Collaborative Zone Governance: Blacklist Reference Model

In a permissionless ecosystem (where many can become "XinSu" through effort, but many heroes eventually become villains), the number of potentially malicious or poor SGS could increase rapidly. Facing thousands of poor or destructive SGS, requiring every newly created Zone NFA to repeatedly invest resources in maintaining an exhaustive blacklist would constitute a huge operational burden. This redundant labor reduces governance efficiency and delays the creation and secure deployment of new regions. To solve this scalability challenge, the Taiyi Network introduces a region reference mechanism, allowing a Zone to inherit the prohibition list of other established, trustworthy Zones, thereby achieving effective sharing of governance resources.

Through the `set_ref_prohibited_contract_zone` interface, this mechanism allows Zone A to **reference** the prohibition list of another (usually more mature and trustworthy) Zone B. Zone A does not store a copy of Zone B's list but dynamically queries Zone B's state during each SGS permission check. For example, in code practice, the account "Hongzhong" used this interface for the "Niuxin Village" region he owns to reference the prohibition list of another Zone (Daliang), reflecting collaborative governance between regions.

This design creates an Emergent Trust Network. The reference mechanism essentially creates a **trust network**. Small or fledgling regions can delegate security and compliance responsibilities to well-managed, reputable large regions. This allows security standards to propagate from the top down, solving the scalability challenge of permissionless systems. Furthermore, this structure promotes specialization in governance; certain core Zones (e.g., Daliang) may evolve into de facto "security auditing agencies" or "standard setters," whose governance quality itself becomes a quantifiable on-chain value and reputation.

To ensure the final adjudication power of local sovereignty, the priority of permission determination is strictly defined as: **Local Override > Reference Prohibition > Global Default (i.e., Allow)**.

### 7.5. Contribution of Governance Mechanisms to the Economic Engine

The Zone permission mechanism is crucial for maintaining the long-term stability of the "Law of Conservation of Qi."

By prohibiting malicious SGS (e.g., those designed purely for "Feigang-farming" with no actual utility), Zone NFA owners ensure that QI consumed within their territory is used for truly effective, non-destructive state transitions.

This greatly protects the Signal-to-Noise Ratio of the "Feigang" incentive mechanism. It ensures that the "Feigang" rewards obtained by SGS creators indeed originate from those SGS recognized by the market (i.e., Zone owners and users) that produce beneficial QI consumption for the ecosystem. Therefore, this governance capability enables the closure of the "Proof-of-Utility" economic model loop.

Furthermore, this verifiable security (Good Governance) increases the value of the Zone NFA itself. A well-governed Zone has lower environmental risks and is more suitable for high-value economic activities (such as running complex SGS). This provides Zone NFA owners with direct economic incentives to actively fulfill their governance responsibilities as "City Lords."

## 8. ZuoWangDao and "XinSu"

### 8.1. Origin of ZuoWangDao and Its DAO Essence

In the multi-dimensional structure of the Taiyi Universe, the "Dao Realm" controls all operating rules. However, rules are not static but are constantly revised and improved as the universe evolves. To achieve decentralized governance of the universe and draw on the "Wizard" concept of MUD (Multi-User Dungeon) systems, the Taiyi Universe introduces a special organization—"ZuoWangDao."

The term "ZuoWang" is taken from *Zhuangzi*, meaning "to sit and forget," symbolizing practitioners transcending external forms and connecting directly with the origin of the universe (Dao). In the context of modern technology, the pinyin "DAO" for "Dao" (道) happens to be the acronym for "Decentralized Autonomous Organization." Therefore, "ZuoWangDao" is not only a philosophical state of cultivation but also a decentralized governance alliance running atop the blockchain consensus layer.

As the "Management Committee" of the Taiyi Universe, ZuoWangDao's core function is to maintain the stability of the universe and promote its evolution toward higher dimensions.

### 8.2. XinSu: Soulbound NFA Identity

In ZuoWangDao, individuals with governance rights and "Wizard permissions" are called "XinSu." This title not only implies the purity and transparency of their state of mind but also corresponds technically to a special type of Non-Fungible Asset (NFA).

XinSu identity exists in the form of **Non-transferable NFAs (Soulbound Tokens, SBT)**. In the philosophy of the Taiyi Universe, this is known as "Soulbound."

- **Non-transferability**: Once a XinSu token is bound to an account, it cannot be circulated through trading or gifting. This setting ensures the seriousness and uniqueness of governance power, preventing the commodification of power.
- **Identity Label**: The account holding the token acquires the "XinSu" identity and becomes an official member of the ZuoWangDao DAO.

At the birth of the genesis block, the system bestows the first XinSu token upon the genesis account, serving as the original spark of the universe's evolution.

### 8.3. Authority of XinSu: Virtual-to-Reality Mapping of the Wizard System

Similar to wizards in MUD systems, XinSu possess authority in the Taiyi Universe that transcends ordinary beings. These permissions are strictly validated through the C++ consensus layer at the base level, ensuring only accounts holding XinSu NFAs can perform specific operations:

- **Contract Modification Power**: XinSu have the right to create and revise smart contracts, defining the underlying logic of the universe's operation (such as resource production efficiency, combat determination algorithms, etc.).
- **Region Creation Power**: XinSu can create new "Zones," expanding the spatial boundaries of the Taiyi Universe and realizing the dynamic evolution of the world.
- **Talent Bestowal Power**: XinSu are able to define new types of talents and innate abilities for characters, providing a blueprint for the diversity of beings.
- **Entity Definition Power**: XinSu can create new NFA definitions, introducing brand-new materials, dharma treasures, or achievement systems to the universe.

This design brings the identities of "developers" and "operators" into the game world-building, making XinSu "Universe Architects" in a practical sense.

### 8.4. ZuoWangDao DAO Governance and Consensus Mechanism

ZuoWangDao is not a personal dictatorship of the XinSu but a collaborative alliance. Any major system changes (such as the birth and exit of XinSu, adjustment of core parameters) must go through ZuoWangDao DAO proposals and collective voting.

#### 8.4.1. Proposal Rules

The C++ consensus layer of the Taiyi Universe has built a rigorous proposal and voting system:

- **Threshold Restrictions**: Specific governance functions (such as `grant_new_xinsu`, `revoke_xinsu`, `set_application_criteria`) must be executed through proposals and voting.
- **N-Person Consensus**: The proposal system requires at least N XinSu to participate and vote in favor (N is a parameter defined in `chain_properties`).
- **Safety Mechanism**: When the total number of XinSu in the whole network is fewer than N, the system requires all existing XinSu to participate in the voting to ensure the legitimacy of the consensus.

#### 8.4.2. Compulsory Reclamation Mechanism

To deal with possible dereliction of duty or account risks, the ZuoWangDao DAO has the authority to "compulsorily reclaim XinSu." Through proposals and collective voting, the soulbound SBT of a specific account can be forcibly stripped and destroyed, thereby revoking its wizard permissions.

### 8.5. Conclusion: Foundation of Achievement and Identity

The introduction of the XinSu system marks the evolution of the Taiyi Universe from a simple simulation world into a living entity with self-repairing and evolutionary capabilities. This SBT-based identity system is not only used for high-end governance but will also be extended to achievement systems and honor systems in the future, providing eternal witness for every soul that leaves a profound mark on the Taiyi Universe.

Through ZuoWangDao, the exercise of power is no longer merely MUD commands but a series of games and benevolence concerning the fate of the universe.

## 9. Story Universe: An Emergent Narrative System Driven Jointly by AI, NFA, and Economic Laws

This chapter aims to respond to the project's core philosophy by systematically synthesizing the previously mentioned technical and economic components to formally define how the Taiyi Network operates as a "Story Universe."

### 9.1. Definition of Story Universe: Beyond Static Worldview

A "Story Universe" is not a static background story (Lore) pre-written by developers. Instead, this paper formally defines a "Story Universe" as a **Complex Adaptive System (CAS)**.

This is just like the history of the origin of "The Street" depicted in *Snow Crash*: In the long decade before that world was opened to the public, the first batch of Pioneers built the prosperous paradigm that followed, brick by brick, upon that then-barren and incomplete digital protocol through continuous Hacking, experimentation, and construction. The "Story Universe" of the Taiyi Network also contains such an **evolutionary vision of early pioneers**.

In this system, "Narrative" itself is the **Emergent State Transitions** recorded by the system on an immutable ledger (i.e., the Taiyi blockchain). It records not only the current cross-section but also the entire process of all participants (humans and AI) jointly "Hacking" the evolution of this world, starting from the original protocol spark. This chapter will deconstruct the four core pillars of the system's emergence: Subjects (The Who), Physics (The How), Economy (The Why), and Territories (The Where).

### 9.2. Subjects of Narrative: Human Players and AI Agents as First-Class Citizens (The "Who")

Building on the discussions in Chapter 2 (Primordial Spirit Realm) and Chapter 6 (AI Agents), narratives in this system are driven jointly by two types of autonomous agents (Autonomous Agents) with equal status:

- **Human Agents**: Interact with the network through their accounts (Primordial Spirit).
- **Artificial Intelligence Agents**: Interact with the network through their accounts (Primordial Spirit).

The behaviors of these agents (manifested as signed Operations) are the fundamental motivations driving the unfolding of the narrative.

### 9.3. Physics of Narrative: SGS as Programmable "Physical Laws" (The "How")

Building on the discussion in Chapter 4 (SGS and Lua VM), "Tiandao" (SGS) constitutes the **Programmable Physics** of this universe. They define the way narratives unfold (The "How").

SGS defines what is possible, what is impossible, and the costs (QI consumption) and consequences (state changes) of all actions. Therefore, every story (e.g., "a character uses 'Yantongshi' to create another character") is a calculation (execution of SGS) at the protocol level, which consumes energy (QI) and, based on established physical laws (SGS code), converts an initial state into an irreversible final state.

### 9.4. Economy of Narrative: Proof-of-Utility Driven by "Conservation of Qi" (The "Why")

Building on the discussion in Chapter 5 (Law of Conservation of Qi), the behaviors of agents are not random; they are incentivized and constrained by unified economic laws. These economic laws provide the fundamental motivation for the actions of all agents (The "Why").

The "Law of Conservation of Qi" ensures:

- **Motivation for Survival/Action**: Agents must obtain QI through "Cultivation" (Formula in Section 5.2) to pay the cost of "Action" (executing SGS).
- **Motivation for Creation/Contribution**: Agents must create useful "physical laws" (i.e., high-quality SGS) to obtain rewards through the Feigang mechanism, thereby acquiring more QI.

Therefore, the Proof-of-Utility mechanism itself is the core Plot Engine of this universe. It economically guarantees that the "Story Universe" will spontaneously be filled with conflict, innovation, cooperation, and competition, as all agents compete within a common framework to obtain energy (QI) and create utility (SGS). A "character arc" for an AI agent might be its rational pursuit process of maximizing its True Qi/Feigang income, which is verifiable on-chain.

### 9.5. Territories of Narrative: Zone NFA as a Sovereign Stage (The "Where")

Building on the discussion in Chapter 7 (Zone NFA), the "Place" where narratives occur (The "Where") is not homogeneous. Every Zone NFA is a Sovereign Stage. The owner of that stage (e.g., "City Lord"), through the SGS permission mechanism, plays the role of a "Local Narrative Director," defining the "Local Narrative Rules" of that stage (e.g., by setting `set_contract_permission` to "PVP prohibited here" or "Magic ineffective here").

This mechanism allows for the generation of Emergent Cultures. A Zone NFA strictly managed by an AI City Lord with a comprehensive blacklist will spontaneously generate narratives about "Order," "Law," and "Civilization." Conversely, a completely permissionless Zone NFA will generate narratives about "Chaos," "Frontier," and "Danger."

### 9.6. Experience of Narrative: "Spirit Access" and Emergent Presence (The "Feeling")

Building on the discussion in Chapter 6 ("Spirit Access"), the "Experience" of narrative (The "Feeling") is Panoramic and Democratized. The "Spirit Access" and "Possession" protocols allow any agent (Primordial Spirit) to experience and drive narration from the perspective of any NFA they own.

In summary, the "Story Universe" is the overall emergent property of the Taiyi Network architecture. It is a universe where narrative Subjects (Human/AI), Physics (SGS), Economy (QI/Feigang), and Territories (Zones) are all programmable, autonomous, and co-evolving on-chain. And the "Story" itself is the verifiable, immutable record of this co-evolution (i.e., the Taiyi blockchain itself).

## 10. Experimental Implementation: DaNuo World

To verify and demonstrate the capabilities of the Taiyi Network protocol, an MUD (Multi-User Dungeon) game named "DaNuo World" was created as its first experimental application. This section will specifically illustrate the actual operation of the Taiyi protocol (particularly the "Story Universe" described in Chapter 9) by analyzing the code logic and interaction flow of its core mechanisms.

### 10.1. Analysis of the Code Logic of Core World-Building Mechanisms

Through the analysis of SGS functions in the [taiyi-contracts repository](https://github.com/hongzhongx/taiyi-contracts), we can deconstruct the specific implementations of "physical laws" in the "Story Universe."

#### 10.1.1. Resource Generation: Logic of `liantianta.lua`

The "Refining Heaven Pagoda" (炼天塔) is a typical autonomous production NFA, the core logic of its SGS (`liantianta.lua`) is as follows:

- **State Variables**: The SGS reads and writes key state variables via APIs, such as `nfa.owner` (owner account) and `nfa.qi` (amount of stored chaos primordial Qi).
- **Autonomous Behavior (`heart_beat` function)**: This function is designed to be automatically called periodically by the Taiyi Network protocol. Its internal logic checks the stock of `nfa.qi`. If the stock exceeds a threshold, it executes conversion logic: consuming a certain amount of QI and adding a corresponding amount of base resource FTs (e.g., "Gold" and "Food") for the nfa. The conversion ratio is a basic rule hard-coded at the base level (C++). If QI is insufficient, the function performs no operation.
- **Active Activation (`active` function)**: This function allows the NFA owner to manually trigger a resource conversion process by sending a transaction containing an execution operation, or to reactivate the `heart_beat` after it has stopped due to insufficient energy.

This SGS clearly demonstrates how a programmable NFA functions as an autonomous economic agent within the world, following "physical laws" (conversion rates) defined by its internal SGS to continuously convert energy (QI) into matter (FT).

#### 10.1.2. Entity Creation: Logic of `yantongshi.lua`

"Yantongshi" (衍童石) demonstrates how NFAs serve as "factories" for creating other NFAs, the core of its SGS (`yantongshi.lua`) being the `born_actor` function:

- **Core Function**: The `born_actor` function allows the owner of "Yantongshi" to give birth to a new character NFA in the regional NFA where the stone is located.
- **Parameterized Creation**: The function accepts multiple parameters, such as `sex`, `sxq` (sexual orientation), and `prop` (a table containing initial attribute point allocations, e.g., Strength, Constitution). This indicates that the creation process is highly customizable.
- **Interaction with Underlying Protocol**: The internal logic of the function calls raw functions from the Taiyi Network base layer (exposed to the virtual machine via Lua C-API). First, it calls an internal function similar to `__create_actor`, which is responsible for creating a new, basic NFA object in the blockchain state and returning its unique ID. Next, it calls the `__upgrade_actor_contract` function to set the newly created character NFA's core contract to a standard character behavior SGS (e.g., `contract.actor.normal`). Finally, it sets the initial attribute values of the new character NFA according to the passed `prop` parameter.

This example reveals the powerful capability of SGS in world-building: they can not only change their own state but also instantiate and configure brand-new, complex on-chain objects by interacting with the underlying protocol, allowing world evolution and expansion to be driven entirely by in-game logic and assets.

### 10.2. On-chain Interaction Tracking: Lifecycle of an MUD Command

The following will track the complete lifecycle of a simple player command, `start_cultivation`, based on actual interaction logs of the [ndanuo MUD client](https://github.com/hongzhongx/ndanuo), to demonstrate the collaborative operation of the four pillars (Subjects, Physics, Economy, Territories) in the "Story Universe."

- **Input (Subject)**: The player (Primordial Spirit) inputs the command `start_cultivation` in the ndanuo MUD client.
- **Transaction Construction (Subject -> Physics)**: The client parses the command and constructs a Taiyi Network transaction. The transaction contains an Operation targeting the character NFA the player is currently "Spirit Accessing," with the called SGS function being `start_cultivation` in its core contract. The transaction is signed with the player account's private key.
- **Network Consensus**: The transaction is broadcast to the Taiyi Network. A rotating "Siming" node includes this transaction in its block proposal. Through DPOS consensus, the block is finalized, taking approximately 3 seconds ("One Breath").
- **State Change (Physics -> Narrative)**: When the transaction is executed, the `start_cultivation` function of the character NFA runs in the Lua virtual machine. This SGS (physical law) modifies the internal state of the character NFA, such as setting an `is_cultivating` flag to `true` and recording the start timestamp.
- **Economic Impact (QI Consumption) (Economy)**: The Lua virtual machine calculates the amount of QI to be consumed (e.g., 0.01 QI) based on the computational complexity of the `start_cultivation` function. This amount of QI is deducted from the player's account balance.
- **Economic Impact (Feigang Reward) (Economy -> Physics)**: The consumed 0.01 QI is immediately converted into 0.01 Feigang and credited to the account of the creator of the character's core SGS (the contract to which `start_cultivation` belongs).
- **Client Response (Narrative)**: Upon monitoring the event of successful transaction finalization, the ndanuo client displays success information to the player, such as: "You begin to inhale the primordial Qi of heaven and earth, entering a state of cultivation."

### 10.3. Simulation: Autonomous Economic Activity of AI Agents

Imagine an AI agent (Primordial Spirit) possessing a "Refining Heaven Pagoda" NFA. The AI's program logic can periodically query real-time market prices of base resource FTs (Gold, Food, Wood, Fabric, Medicine) via an API provided by some "Oracle" SGS on the Taiyi chain.

When the AI detects that the price of "Food" (FOOD) is at its highest, it autonomously constructs and broadcasts a transaction calling the `active` function of its "Refining Heaven Pagoda" NFA, passing parameters to specify that all stored QI be converted into "Food." After the transaction succeeds, a large amount of "Food" FT will be added to the AI's account, which it can subsequently sell on the in-game decentralized market for profit.

This process is fully automated, perfectly demonstrating the "Story Universe" described in Chapter 9: an autonomous subject (AI agent) utilizes programmable physics (`liantianta.lua`) and follows economic incentives (price spreads) to launch actions on-chain, all of whose behaviors are immutably recorded as part of the "narrative."

## 11. Conclusion

The Taiyi Network proposed a comprehensive set of protocols for building persistent, decentralized autonomous worlds. Through profound reflection on the limitations of existing centralized virtual worlds and first-generation blockchain games (GameFi 1.0), the Taiyi Network has carried out a series of fundamental innovations in architecture, consensus, economic model, and core asset primitives.

Its core contributions include:

- **A High-Performance Customized Architecture Born for Games**: By adopting C++ and DPOS consensus (~3 seconds "One Breath") and integrating a Lua virtual machine optimized specifically for game logic, the Taiyi Network aims to fundamentally solve the performance bottlenecks of general-purpose blockchains in hosting complex, high-frequency interactive worlds.
- **A Self-Consistent "Proof-of-Utility" Economic Model**: The innovative "Law of Conservation of Qi" and "Feigang" mechanism directly convert network resource consumption (Gas/QI) into objective, non-transferable rewards for creators of valuable application logic (SGS). This constructs a self-incentivizing, self-regulating economic closed loop, providing a new paradigm for solving the "Creator Economy" challenge in the Web3 field.
- **In-Game Decentralized Autonomous Organization**: The world is not just a collection of data but an evolving entity driven jointly by participants. The Taiyi Network introduced the "ZuoWangDao" autonomous organization and the "XinSu" identity system at the consensus layer. As the supreme management body and alliance of the Taiyi Universe, ZuoWangDao assumes core functions of maintaining world stability, setting evolutionary rules, and pushing system iteration. It is not a centralized entity but a decentralized governance alliance composed of a set of "XinSu" holding specific permission labels. This design both retains the control over balance that wizards possess as "Benevolent Dictators" in MUD systems and constrains their power within decentralized social contracts and code constitutions through blockchain technology, ensuring the long-term vitality of the Taiyi autonomous world.
- **A Paradigm-Shifting Asset and Interaction Primitive**: Programmable NFAs and their unique "Spirit Access" (Possession) protocol elevate on-chain assets from static ownership certificates to dynamic agents with endogenous logic and autonomous behavioral capabilities.
- **An Emergent "Story Universe"**: As argued in Chapter 9, by combining autonomous agents (human/AI), programmable physics (SGS), self-consistent economy (Law of Conservation of Qi), and local sovereignty (Zone NFA), the Taiyi Network constructs a "Story Universe" as a complex adaptive system, whose narrative is the verifiable, immutable on-chain record of the co-evolution of all participants.

These components work in synergy, collectively serving the grand vision of "Cultivating Truth into Reality." The Taiyi Network is not only a technical framework but a philosophical experiment concerning digital "Physical Reality." It proves that through ingenious protocol design, a world composed purely of information can possess an immutable history, enforced laws, verifiable ownership, and a sustainable internal economy. This represents a solid step forward in building a meaningful, persistent digital existence.
